<section class="graphs">
  <nav class="graphs-left-menu w3-hide-small app-theme-primary">
    <ng-container *ngTemplateOutlet="template_graphs_left_menu"></ng-container>
  </nav>
  <section class="graphs-left-menu-small-container w3-hide-medium w3-hide-large">
    <button
      #graphs_left_menu_small_toggle
      mat-icon-button
      color="primary"
      class="graphs-left-menu-small-toggle hamburger hamburger--arrow"
      (click)="toggleGraphLeftMenuSmallVisibility()"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
    <nav #graphs_left_menu_small class="graphs-left-menu-small w3-sidebar w3-animate-left w3-hide app-theme-primary">
      <div class="graphs-left-menu-small-toggle-placeholder"></div>
      <ng-container *ngTemplateOutlet="template_graphs_left_menu"></ng-container>
    </nav>
  </section>

  <section class="graphs-content">
    <!-- <router-outlet></router-outlet> -->
  </section>
</section>

<!--Template for menu-->
<ng-template #template_graphs_left_menu>
  <ng-container *ngFor="let menu_group of menu_groups; let i = index">
    <mat-expansion-panel
      *ngIf="menu_group.items && menu_group.items.length > 0; else template_non_group_menu_group"
      class="graphs-left-menu-group app-theme-primary"
      expanded
    >
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ menu_group.name ? menu_group.name : menu_group.id }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <ng-container *ngFor="let menu_item of menu_group.items">
        <a
          *ngIf="menu_item.router_link; else template_absolute_menu_item_link"
          class="graphs-left-menu-group-item w3-padding"
          [routerLink]="menu_item.router_link"
          >{{ menu_item.name ? menu_item.name : menu_item.id }}</a
        >

        <ng-template #template_absolute_menu_item_link>
          <a
            class="graphs-left-menu-group-item graphs-left-menu-group-item-absolute w3-padding"
            [href]="menu_item.absolute_link"
            >{{ menu_item.name ? menu_item.name : menu_item.id }}</a
          >
        </ng-template>
      </ng-container>

      <mat-divider *ngIf="i !== menu_groups.length - 1" class="w3-margin-top"></mat-divider>
    </mat-expansion-panel>

    <ng-template #template_non_group_menu_group>
      <a
        *ngIf="menu_group.router_link; else template_absolute_menu_group_link"
        class="graphs-left-menu-group graphs-left-menu-group-link"
        [routerLink]="menu_group.router_link"
        >{{ menu_group.name ? menu_group.name : menu_group.id }}</a
      >

      <ng-template #template_absolute_menu_group_link>
        <a
          class=" graphs-left-menu-group graphs-left-menu-group-link graphs-left-menu-group-link-absolute"
          [href]="menu_group.absolute_link"
          >{{ menu_group.name ? menu_group.name : menu_group.id }}</a
        >
      </ng-template>
    </ng-template>
  </ng-container>
</ng-template>
